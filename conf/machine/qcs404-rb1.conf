#@TYPE: Machine
#@NAME: RB1-QCS404
#@DESCRIPTION: Machine configuration for QTI RB1-QCS404

require conf/machine/include/qcs40x.inc

KERNEL_IMAGETYPE = "Image.gz"
KERNEL_DTB_NAMES    = "qcom/qcs405-iot-robot-reference-board.dtb"
KERNEL_BASE = "0x80000000"
KERNEL_TAGS_OFFSET = "0x1e00000"

KERNEL_CONFIG ?= "vendor/qcs405-perf_defconfig"
KERNEL_CONFIG_qti-distro-debug ?= "vendor/qcs405_defconfig"

CONSOLE_PARAM ?= ""
CONSOLE_PARAM_qti-distro-debug ?= "console=ttyMSM0,115200,n8"

KERNEL_CMD_PARAMS ?= "noinitrd rw rootwait ${CONSOLE_PARAM} no_console_suspend=1 androidboot.hardware=qcom androidboot.console=ttyMSM0 lpm_levels.sleep_disabled=1 service_locator.enable=1 firmware_class.path=/lib/firmware/updates msm_rtb.filter=0x237"

SERIAL_CONSOLE ?= ""
SERIAL_CONSOLE_qti-distro-debug ?= "115200 ttyMSM0"

PREFERRED_VERSION_linux-msm = "4.14"
PREFERRED_PROVIDER_virtual/bootloader = "edk2"

# Conf with partition entries required for machine.
MACHINE_PARTITION_CONF = "${COREBASE}/meta-qti-bsp/conf/machine/partition/${MACHINE}-partition.conf"

# filesystem configurations to be applied on image.
MACHINE_FSCONFIG_CONF = "qcs40x-fsconfig.conf"
